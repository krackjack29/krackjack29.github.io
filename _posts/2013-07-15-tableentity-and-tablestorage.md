title: TableEntity and TableStorage
link: https://pratapgowda.wordpress.com/2013/07/15/tableentity-and-tablestorage/
author: pratapgowda
description: 
post_id: 90
created: 2013/07/15 20:10:00
created_gmt: 2013/07/15 14:40:00
comment_status: open
post_name: tableentity-and-tablestorage
status: publish
post_type: post

# TableEntity and TableStorage

<p>In the previous <a href="http://pratapgowda.wordpress.com/2013/05/09/windows-azure-table-storageoverview/" target="_blank">blog</a> we just went through with the advantages of using TableStorage, in this one we would consider the most important Class to be used to save the entities.</p>  <p>There is a very good walkthrough by Microsoft about how to use the table storage programmatically <a href="http://www.windowsazure.com/en-us/develop/net/how-to-guides/table-services/" target="_blank">here</a>.&#160; I will share my experiences with table storage.</p>  <h4><span style="color:#333333;">TableServiceEntity and TableEntity</span></h4>  <p>Either one of these classes (Microsoft.WindowsAzure.Storage.Table.TableEntity and Microsoft.WindowsAzure.Storage.Table.DataServices.TableServiceEntity) has to be inherited by the entity that we choose to save in the table storage.</p>  <p>These two classes are totally different and have no relationship with each other. TableEntity is the latest class published as part of Azure Storage SDK 2.0, while TableServiceEntity was available earlier has well.</p>  <p>The main difference i noticed with these two classes is that TableEntity gives more customizability and control to reading and writing the entities to the storage. And TableServiceEntity uses the WCF data services protocol to do any operations and most of the APIs wouldn’t work, like AddLinkedObject etc.</p>  <p>Both classes have 3 main properties</p>  <ol>   <li>PartitionKey </li>    <li>RowKey </li>    <li>ETag </li> </ol>  <h4>Things to consider while using Table Storage</h4>  <ul>   <li><strong>The Partition Key and RowKey</strong> : These properties have to be populated and are primary identifiers for your entity. <strong>These are of type “System.string</strong>”. <strong>They have to be not more than 1 KB of size</strong> that is around 256 characters if UTF 16 encoding is selected. Best article to read about selecting PartitionKey and RowKey <a href="http://msdn.microsoft.com/en-us/library/windowsazure/dd179338.aspx">http://msdn.microsoft.com/en-us/library/windowsazure/dd179338.aspx</a> . </li>    <li><strong>Properties of Entity : </strong>Only certain types of properties are allowed by default in the Entity and are listed below in the table. <em>Courtesy same link</em>       <table style="list-style-type:disc;margin-bottom:14px;white-space:normal;word-spacing:0;border-collapse:collapse;text-transform:none;padding-bottom:20px;padding-top:20px;letter-spacing:normal;line-height:20px;background-color:#ffffff;text-indent:0;border-style:none;" width="571"><tbody>         <tr>           <th style="border-top-style:none;border-bottom:#dbdbdb 1px solid;border-right-style:none;margin:10px;border-left-style:none;background-color:#ededed;padding:10px 8px;" align="left"><span style="font-family:&#039;"><span style="font-size:9.8pt;color:#707070;">WCF Data Services type</span></span></th>            <th style="border-top-style:none;border-bottom:#dbdbdb 1px solid;border-right-style:none;margin:10px;border-left-style:none;background-color:#ededed;padding:10px 8px;" align="left"><span style="font-family:&#039;"><span style="font-size:9.8pt;color:#707070;">Common Language Runtime type</span></span></th>            <th style="border-top-style:none;border-bottom:#dbdbdb 1px solid;border-right-style:none;margin:10px;border-left-style:none;background-color:#ededed;padding:10px 8px;" align="left"><span style="font-family:&#039;"><span style="font-size:9.8pt;color:#707070;">Details</span></span></th>         </tr>          <tr>           <td style="border-top-style:none;vertical-align:top;border-bottom:#dbdbdb 1px solid;border-right-style:none;margin:10px;border-left-style:none;padding:10px 8px;">             <p style="margin-bottom:0;padding-bottom:0;margin-top:0;line-height:18px;"><strong><span style="font-family:&#039;"><span style="font-size:9.8pt;color:#2a2a2a;">Edm.Binary</span></span></strong></p>           </td>            <td style="border-top-style:none;vertical-align:top;border-bottom:#dbdbdb 1px solid;border-right-style:none;margin:10px;border-left-style:none;padding:10px 8px;">             <p style="margin-bottom:0;padding-bottom:0;margin-top:0;line-height:18px;"><strong><span style="font-family:&#039;"><span style="font-size:9.8pt;color:#2a2a2a;">byte[